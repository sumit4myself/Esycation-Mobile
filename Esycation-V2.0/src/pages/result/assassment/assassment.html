<ion-header>
  <ion-navbar color="ios-blue">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
        <button icon-only ion-button  (click)="onNotification()" >
          <ion-icon ios="ios-notifications" md="md-notifications" ></ion-icon> 
          <span *ngIf="notificationCount!='0'" class="notification">    
              <small><ion-badge color="ios-red">{{notificationCount}}</ion-badge></small>  
           </span>
        </button>
    </ion-buttons>
    <ion-title>Student Assessment</ion-title>
  </ion-navbar>
  <ion-toolbar color="lightGray">
    <p>{{studentAssessment.subjectName}}</p>
  </ion-toolbar>
</ion-header>

<ion-content>
    <div *ngFor="let stuAssessment of studentAssessment.studentAssessements; let count = index">
        <ion-list-header (click)="toggleDetails(stuAssessment)">
            <ion-avatar item-start>
                <img  class="profile-image" src="assets/img/student-m.png">
            </ion-avatar>
            <ion-icon color="primary" item-right [name]="(!stuAssessment.showDetails) ? 'ios-remove-circle-outline' : 'ios-add-circle-outline' "></ion-icon>
            <!-- {{d.title}} -->
            <h2>{{stuAssessment.studentName}}</h2>
            <p> #{{stuAssessment.studentRollNumber}}</p>
          </ion-list-header>
    <div *ngIf="!stuAssessment.showDetails"  text-wrap>
        <div *ngFor="let assessement of stuAssessment.assessements">
            <!-- <ion-item> -->
              <div class="assassment-list">
                <h4 *ngIf="assessement.childs.length==0" item-start>{{assessement.name}}</h4> 
                <rating item-right  [(ngModel)]="assessement.rating" 
                max="5" 
                emptyStarIconName="star-outline" 
                halfStarIconName="star-half" 
                starIconName="star"
                nullable="false"
                 *ngIf="assessement.childs.length==0"> 
              </rating>  
                <h4 class="sub-subjects" *ngIf="assessement.childs.length>0">{{assessement.name}}</h4> 
                <div class="sub-subjects"  *ngFor="let child of assessement.childs">
                    
                  <div>
                        
                  <h4 item-start>{{child.name}}</h4>  
                      <rating item-right  [(ngModel)]="child.rating" 
                      max="5" 
                      emptyStarIconName="star-outline" 
                      halfStarIconName="star-half" 
                      starIconName="star"
                      nullable="false"> 
                    </rating>  
                  </div>
                 </div> 
                </div>  
            <!-- </ion-item> -->
          </div>
    </div>
  </div>
  <div class="list-bottom-margin"></div>   
  <!-- <ion-card *ngFor="let stuAssessment of studentAssessment.studentAssessements; let count = index">
      <ion-item>
        <ion-avatar item-start>
            <img  class="profile-image" src="assets/img/student-m.png">
        </ion-avatar>
        <h2>{{stuAssessment.studentName}}</h2>
        <p> #{{stuAssessment.studentRollNumber}}</p>
      </ion-item>
      <ion-card-content>
        
          <div   text-wrap>
              <div *ngFor="let assessement of stuAssessment.assessements">
                  <ion-item >
                      <h4 *ngIf="assessement.childs.length==0" item-start>{{assessement.name}}</h4> 
                      <rating item-right  [(ngModel)]="assessement.rating" 
                      max="5" 
                      emptyStarIconName="star-outline" 
                      halfStarIconName="star-half" 
                      starIconName="star"
                      nullable="false"
                       *ngIf="assessement.childs.length==0"> 
                    </rating>  
                        <h4 *ngIf="assessement.childs.length>0">{{assessement.name}}</h4> 
                      <div  *ngFor="let child of assessement.childs">
                          
                        <ion-item >
                              
                        <h4 item-start>{{child.name}}</h4>  
                            <rating item-right  [(ngModel)]="child.rating" 
                            max="5" 
                            emptyStarIconName="star-outline" 
                            halfStarIconName="star-half" 
                            starIconName="star"
                            nullable="false"> 
                          </rating>  
                          </ion-item>
                       </div> 
                  </ion-item>
                </div>
          </div>
        
        
              
      </ion-card-content>
</ion-card>
<br/> -->
  </ion-content>
<ion-footer *ngIf="studentAssessment.studentAssessements!=0">
  <ion-row class="social">
    <ion-col>
      <button ion-button color="orange" block block (click)="onDraft()">
        Draft
      </button>
    </ion-col>
    <ion-col>
      <button ion-button color="secondary" block (click)="onPublish()">
        Publish
      </button>
    </ion-col>
  </ion-row>
   
</ion-footer>
