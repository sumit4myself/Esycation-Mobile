<ion-header>
  <ion-navbar color="ios-blue">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
        <button icon-only ion-button  (click)="onNotification()" >
          <ion-icon ios="ios-notifications" md="md-notifications" ></ion-icon> 
          <span *ngIf="notificationCount!='0'" class="notification">    
              <small><ion-badge color="ios-red">{{notificationCount}}</ion-badge></small>  
           </span>
        </button>
    </ion-buttons>
    <ion-title>Student Assassment</ion-title>
  </ion-navbar>
  <ion-toolbar color="lightGray">
      <ion-buttons >
          <button ion-button >
              Exam Name : <small>Test</small>
          </button>
          <button ion-button  >
              Subject : <small>Math</small>   
          </button>
        </ion-buttons>
        <ion-buttons >
          <button ion-button >
              Exam Date : <small>10/11/2017</small>
          </button>
          <button ion-button>
              Result Date : <small>20/12/2017</small> 
          </button>
        </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list >
    <ion-item *ngFor="let student of students; let count = index" 
    [ngClass]="{'persent': student.present==true, 'absent': student.absent==true}">
      <ion-avatar item-left *ngIf="student.imageId==null">
        <img *ngIf="student.gender==null || student.gender=='Male' || student.gender=='M'" class="profile-image" src="assets/img/student-m.png">
        <img *ngIf="student.gender=='Female' || student.gender=='F'" class="profile-image" src="assets/img/student-f.png">
      </ion-avatar>
      <ion-avatar item-left *ngIf="student.imageId!=null">
        <img  class="profile-image" src="http://demo.educoresystems.com/api-v1.0/zuul/files/browse/{{student.imageId}}">
      </ion-avatar>
            {{student.name}}
        <p> #{{student.admissionId.registrations[0].rollNumber}}</p>  
        <ion-note item-right ion-text >
         
            <rating [(ngModel)]="rate" 
              max="5" 
              emptyStarIconName="star-outline" 
              halfStarIconName="star-half" 
              starIconName="star"
              nullable="false"
              (click)="onModelChange($event)"> 
          </rating>  
            
        </ion-note>
    </ion-item>
    <p *ngIf="dataNotfound!=null" text-center class="app-error"> <ion-icon name="ios-alert-outline"></ion-icon> {{dataNotfound}}</p>
  </ion-list>
</ion-content>
<ion-footer *ngIf="students.length!=0">
  <ion-row class="social" *ngIf="students.length!=counter && mode=='create'">
    <ion-col>
      <button ion-button color="orange" block block (click)="onDraft()">
        Draft
      </button>
    </ion-col>
    <ion-col>
      <button ion-button color="secondary" block (click)="onPublish()">
        Publish
      </button>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="students.length==counter && mode=='create'">
      <ion-col>
          <button ion-button block color="secondary" (click)="onSave()">Save</button>
      </ion-col>  
  </ion-row>
  <ion-row *ngIf="mode=='update'">
    <ion-col>
        <button ion-button block color="secondary" (click)="onUpdate()">Update</button>
    </ion-col>  
</ion-row>    
</ion-footer>
