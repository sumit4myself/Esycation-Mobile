<ion-header>
  <ion-navbar color="lightblue">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Apply Leave</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
    <form [formGroup]="leaveForm">
      <ion-list class="padding">
        <ion-item>
              <ion-label color="primary" floating>Comment</ion-label>
              <ion-textarea formControlName="comment" type="text" ></ion-textarea>
        </ion-item>
        <ion-row>
          <ion-col no-padding>
            <ion-item>
              <ion-label color="primary" floating>From </ion-label>
              <ion-datetime formControlName="fromDate"
                pickerFormat="DD/MM/YYYY" displayFormat="DD/MM/YYYY" >
              </ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col no-padding>
            <ion-item>
              <ion-label color="primary" floating>To</ion-label>
              <ion-datetime pickerFormat="DD/MM/YYYY" formControlName="toDate"
                displayFormat="DD/MM/YYYY" >
              </ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
        <!--*********Leave Type*********** -->
        <div formArrayName="staffLeaves" >
        <ion-row  
          *ngFor="let staffLeave of leaveForm.controls.staffLeaves.controls; let i=index"
          [formGroupName]="i" >
        <ion-col no-padding>
          <ion-item>
              <ion-label color="primary" floating>Leave Type </ion-label>
              <ion-input type="text" formControlName="type"></ion-input>
          </ion-item>
          </ion-col>
          <ion-col no-padding>
          <ion-item>
            <ion-label color="primary" floating>From </ion-label>
            <ion-datetime formControlName="fromDate"
              pickerFormat="DD/MM/YYYY" displayFormat="DD/MM/YYYY" >
            </ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col no-padding>
          <ion-item>
            <ion-label color="primary" floating>To</ion-label>
            <ion-datetime pickerFormat="DD/MM/YYYY" formControlName="toDate"
              displayFormat="DD/MM/YYYY" >
            </ion-datetime>
          </ion-item>
        </ion-col>
        <ion-col no-padding>
          <ion-item>
              <ion-label color="primary" floating>Total Leave </ion-label>
              <ion-input type="text" formControlName="totalLeave"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col no-padding>
          <ion-item>
              <ion-label color="primary" floating>Remaining Leave </ion-label>
              <ion-input type="text" formControlName="remainingLeave"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      </div>
    <!--*********End Leave Type*********** -->
      </ion-list>
    </form>
  </ion-content>
  <ion-footer>
      <ion-row >
          <ion-col>
              <button ion-button block color="secondary" (click)="onApply(leaveForm)" >Apply</button>
          </ion-col>  
      </ion-row>   
  </ion-footer>
